<div class="panel panel-default">
    <div
        class="panel-heading"
        ng-click="$ctrl.panelOpen=!$ctrl.panelOpen"
        style="cursor: pointer;"
        ng-init="$ctrl.panelOpen=false"
    >
        <fa-open value="$ctrl.panelOpen"></fa-open>
        <span translate="project.filters"></span>
    </div>
    <div class="panel-body" ng-if="$ctrl.panelOpen">
        <form class="form-horizontal" role="form" novalidate>
            <form-group input-id="start-date" label="shared.start">
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-calendar fa-fw"></i></span>
                    <utc-datepicker
                        id="start-date"
                        ng-model="$ctrl.start"
                        min-date="$ctrl.minStart"
                        max-date="$ctrl.end"
                        ng-change="$ctrl.onFilterChange()"
                    >
                    </utc-datepicker>
                </div>
            </form-group>

            <form-group input-id="end-date" label="shared.end">
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-calendar fa-fw"></i></span>
                    <utc-datepicker
                        id="end-date"
                        ng-model="$ctrl.end"
                        min-date="$ctrl.start"
                        max-date="$ctrl.maxEnd"
                        ng-change="$ctrl.onFilterChange()"
                    >
                    </utc-datepicker>
                </div>
            </form-group>

            <form-group
                input-id="dimension-{{dimension.id}}"
                label="{{dimension.label}}"
                ng-repeat="dimension in $ctrl.dimensions"
            >
                <element-filter
                    id="dimension-{{dimension.id}}"
                    ng-model="$ctrl.selectedItems[dimension.id]"
                    ng-change="$ctrl.onFilterChange()"
                    elements="dimension.elements"
                    groups="dimension.groups"
                >
                </element-filter>
            </form-group>
        </form>
    </div>
</div>
