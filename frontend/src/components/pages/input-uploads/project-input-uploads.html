<dropzone project="::$ctrl.project"></dropzone>

<legend>En attente de saisie</legend>

<p ng-if="$ctrl.uploads.length == 0">
    Aucun fichier en attente de saisie
</p>

<div class="card-container">
    <upload
        ng-repeat="upload in $ctrl.uploads track by upload._id"
        upload="upload"
        on-delete="$ctrl.deleteUpload(upload, $ctrl.uploads)"
    ></upload>
</div>

<legend>Historique</legend>

<p ng-if="$ctrl.history.length == 0 && !$ctrl.hasMoreHistory">
    Aucun fichier dans l'historique
</p>

<a
    class="btn btn-default"
    ng-if="$ctrl.history.length == 0 && $ctrl.hasMoreHistory"
    ng-click="$ctrl.loadMore()"
>
    Charger les fichiers déjà traités
</a>

<div class="card-container">
    <upload
        ng-repeat="upload in $ctrl.history track by upload._id"
        upload="upload"
        on-delete="$ctrl.deleteUpload(upload, $ctrl.history)"
    ></upload>
</div>

<a
    class="btn btn-default"
    ng-if="$ctrl.history.length > 0 && $ctrl.hasMoreHistory"
    ng-click="$ctrl.loadMore()"
>
    Charger plus
</a>
