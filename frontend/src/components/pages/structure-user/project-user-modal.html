<div class="modal-header">
	<h3 class="modal-title">
		<a ng-click="$ctrl.dismiss()" class="pull-right" style="cursor: pointer">
			<i class="fa fa-times"></i>
		</a>
		<span translate="project.edit_user"></span>
	</h3>
</div>

<div class="modal-body">
	<form class="form-horizontal" role="form" name="userForm" novalidate autocomplete="off">

		<div class="form-group">
			<label for="login-input" class="col-sm-3 control-label" translate="project.email"></label>
			<div class="col-sm-9">
				<input id="login-input" type="text" ng-model="$ctrl.invitation.email" class="form-control"
					ng-minlength="4" ng-pattern="/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/"
					forbidden-values="$ctrl.takenEmails" required ng-disabled="!$ctrl.isNew">

				<p class="help-block">
					<i class="fa fa-info-circle"></i>
					{{'project.user_help_email'|translate}}
				</p>
			</div>
		</div>
	</form>
</div>

<div class="modal-footer">
	{{userForm.$invalid}}
	{{$ctrl.hasChanged()}}
	<div style="float: left">
		<p class="text-danger" ng-if="userForm.$invalid">
			<i class="fa fa-exclamation-triangle"></i>
			<span translate="project.form_error_short"></span>
		</p>

		<p class="text-info" ng-if="!$ctrl.hasChanged() && !$ctrl.isNew">
			<i class="fa fa-info-circle"></i>
			<span translate="project.form_persisted_short"></span>
		</p>

		<p class="text-warning" ng-if="$ctrl.hasChanged() && !userForm.$invalid">
			<i class="fa fa-exclamation-triangle"></i>
			<span translate="project.form_changed_short"></span>
		</p>
	</div>

	<button ng-click="$ctrl.done()" ng-disabled="userForm.$invalid || !$ctrl.hasChanged()" class="btn btn-primary">
		<i class="fa fa-object-group"></i>
		<span translate="project.update_user"></span>
	</button>

	<button ng-click="$ctrl.reset()" ng-disabled="!$ctrl.hasChanged()" class="btn btn-default">
		<i class="fa fa-undo"></i>
		<span translate="shared.remove_changes"></span>
	</button>
</div>