<legend>Please log in</legend>

<p class="text-danger">{{$ctrl.errorMessage}}</p>

<div class="form-group">
    <label for="username" class="col-sm-2 control-label">Email</label>
    <div class="col-sm-10">
        <input type="text" ng-model="$ctrl.email" class="form-control" placeholder="Email" ng-change="$ctrl.onEmailChange()" ng-disabled="$ctrl.isWaitingToken">
    </div>

    <div class="form-group">
        <label for="password" class="col-sm-2 control-label">Password</label>
        <div class="col-sm-10">
            <input type="password" ng-model="$ctrl.password" class="form-control" name="password" placeholder="Password" ng-disabled="$ctrl.isWaitingToken">
        </div>
    </div>

    <div class="form-group">
        <label for="password" class="col-sm-2 control-label">Password again</label>
        <div class="col-sm-10">
            <input type="password" ng-model="$ctrl.password2" class="form-control" name="password2" placeholder="Password again" ng-disabled="$ctrl.isWaitingToken">
        </div>
    </div>

    <button ng-click="$ctrl.onRegisterClicked()" class="btn btn-primary btn-block" ng-if="!$ctrl.isWaitingToken">Register</button>

    <div class="form-group" ng-if="$ctrl.isWaitingToken">
        <label for="token" class="col-sm-2 control-label">Email token</label>
        <div class="col-sm-10">
            <input type="text" ng-model="$ctrl.token" class="form-control" name="token" placeholder="Enter token you received by email">
        </div>
    </div>

    <button ng-click="$ctrl.onValidateEmailClicked()" class="btn btn-primary btn-block" ng-if="$ctrl.isWaitingToken">Validate Email</button>

</div>
