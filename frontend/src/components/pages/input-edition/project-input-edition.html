<div>
    {{}}

    <form class="form-horizontal" name="$ctrl.inputForm">
        <legend translate="project.general_informations"></legend>

        <div class="form-group">
            <label class="col-sm-2 control-label" translate="project.collection_form"></label>

            <div class="col-sm-10">
                <input class="form-control disabled" disabled ng-value="::$ctrl.form.name" />
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label" translate="project.collection_site"></label>

            <div class="col-sm-10">
                <input class="form-control disabled" disabled ng-value="::$ctrl.entity.name" />
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label" translate="project.covered_period"></label>

            <div class="col-sm-10">
                <input
                    class="form-control disabled"
                    disabled
                    ng-value="::$ctrl.period|formatSlotLong:$ctrl.project.start:$ctrl.project.end"
                />
            </div>
        </div>

        <legend>
            <div class="btn-group pull-right">
                <a ng-click="$ctrl.fillWithZeros()" class="btn btn-default btn-xs">
                    <i class="fa fa-pencil"></i>
                    {{'project.fill_with_zeros'|translate}}
                </a>

                <a
                    ng-if="$ctrl.previousInput"
                    ng-click="$ctrl.copy()"
                    class="btn btn-default btn-xs"
                >
                    <i class="fa fa-clipboard"></i>
                    {{'project.fill_with_last_input'|translate}}
                </a>
            </div>

            {{'project.data'|translate}}
        </legend>

        <div class="form-group" ng-repeat="content in $ctrl.input.content">
            <label class="col-sm-2 control-label"
                >{{$ctrl.variablesById[content.variableId].name}}</label
            >

            <div class="col-sm-10">
                <input-grid
                    ng-model="content.data"
                    variable="$ctrl.variablesById[content.variableId]"
                ></input-grid>
            </div>
        </div>
    </form>
</div>

<save-block
    is-valid="$ctrl.inputForm.$valid"
    is-changed="!$ctrl.isUnchanged"
    is-persisted="false"
    is-saving="$ctrl.inputSaving"
    on-save-clicked="$ctrl.save()"
    on-reset-clicked="$ctrl.reset()"
></save-block>
