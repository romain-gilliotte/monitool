{
    "uuid": {
        "type": "string",
        "pattern": "^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$"
    },
    "indicators": {
        "type": "array",
        "items": {
            "$ref": "#/definitions/indicator"
        }
    },
    "indicator": {
        "type": "object",
        "additionalProperties": false,
        "required": [
            "baseline",
            "target",
            "colorize",
            "display",
            "computation"
        ],
        "properties": {
            "display": {
                "type": "string",
                "minLength": 1
            },
            "baseline": {
                "oneOf": [
                    {
                        "type": "null"
                    },
                    {
                        "type": "number"
                    }
                ]
            },
            "target": {
                "oneOf": [
                    {
                        "type": "null"
                    },
                    {
                        "type": "number"
                    }
                ]
            },
            "colorize": {
                "type": "boolean"
            },
            "computation": {
                "$ref": "#/definitions/computation"
            }
        }
    },
    "computation": {
        "oneOf": [
            {
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "formula",
                    "parameters"
                ],
                "properties": {
                    "formula": {
                        "type": "string",
                        "minLength": 1
                    },
                    "parameters": {
                        "type": "object",
                        "additionalProperties": false,
                        "patternProperties": {
                            ".*": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                    "elementId",
                                    "filter"
                                ],
                                "properties": {
                                    "elementId": {
                                        "$ref": "#/definitions/uuid"
                                    },
                                    "filter": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "patternProperties": {
                                            ".*": {
                                                "type": "array",
                                                "uniqueItems": true,
                                                "items": {
                                                    "$ref": "#/definitions/uuid"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            {
                "type": "null"
            }
        ]
    }
}