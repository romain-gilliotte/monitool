{
	"$schema": "http://json-schema.org/schema#",
	"title": "Monitool configuration file schema",

	"type": "object",
	"additionalProperties": false,
	"required": ["debug", "baseUrl", "port", "tokenSecret", "couchdb"],
	"properties": {
		"debug": {
			"type": "boolean"
		},
		"baseUrl": {
			"type": "string",
			"pattern": "^https?://[a-z\\d\\.\\-]+(:\\d+)?$"
		},
		"port": {
			"type": "integer",
			"minimum": 1,
			"maximum": 65536
		},
		"tokenSecret": {
			"type": "string",
			"minimum": 6
		},
		"couchdb": {
			"type": "object",
			"required": ["host", "port", "bucket"],
			"properties": {
				"host": {"type": "string"},
				"port": {
					"type": "integer",
					"minimum": 1,
					"maximum": 65536
				},
				"bucket": {
					"type": "string",
					"minLength": 1
				},
				"username": {"type": "string"},
				"password": {"type": "string"}
			}
		}
	}
}
